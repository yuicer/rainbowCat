(function(e){function t(t){for(var n,r,o=t[0],l=t[1],d=t[2],h=0,c=[];h<o.length;h++)r=o[h],a[r]&&c.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(c.length)c.shift()();return s.push.apply(s,d||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},a={app:0},s=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"063e":function(e,t,i){e.exports=i.p+"0e9018aa6acef20a33b87e6a15a168d2.png"},"065e":function(e,t,i){e.exports=i.p+"media/fire.089ca1c2.mp3"},"11e8":function(e,t,i){e.exports=i.p+"media/boss_boom.ab6c8f2b.mp3"},"1d36":function(e,t,i){e.exports=i.p+"100744eeb35fe827b48d6555efdaf157.png"},"23d1":function(e,t,i){e.exports=i.p+"media/game_over.d054ddcb.mp3"},"248c":function(e,t,i){e.exports=i.p+"media/bgm.f495ae3a.mp3"},"26c6":function(e,t,i){e.exports=i.p+"8eb4114a20816f245bfb577bbe199f28.png"},"458f":function(e,t,i){},"4e4f":function(e,t,i){e.exports=i.p+"11df7b1ce65b04d6b60b3cc3ceea05c2.png"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}})},s=[],r=i("64b8"),o=i.n(r),l=i("9f12"),d=i("53fe"),u=i("8b83"),h=i("c65a"),c=i("c03e"),p=i("063e"),m=i.n(p),f=i("b644"),y=i.n(f),b=i("9107"),g=i.n(b),v=i("8d9d"),T=i.n(v),w=i("94f9"),x=i.n(w),O=i("c2b6"),k=i.n(O),S=i("61c3"),_=i.n(S),F=i("4e4f"),j=i.n(F),M=i("26c6"),B=i.n(M),E=i("f56d"),G=i.n(E),C=i("d334"),P=i.n(C),A=i("1d36"),W=i.n(A),N=i("248c"),K=i.n(N),D=i("f7b8"),V=i.n(D),I=i("11e8"),L=i.n(I),H=i("57fd"),U=i.n(H),z=i("065e"),X=i.n(z),$=i("23d1"),J=i.n($),R=i("c29b"),Y=i.n(R),q=function(e){function t(){return Object(l["a"])(this,t),Object(u["a"])(this,Object(h["a"])(t).call(this,{key:"start"}))}return Object(c["a"])(t,e),Object(d["a"])(t,[{key:"preload",value:function(){var e=this,t=this.sys.canvas,i=t.width,n=t.height,a=this.add.text(i/2,n/5*4,"0%").setOrigin(.5).setFontSize(42).setColor("#fff").setDepth(1);this.load.on("progress",function(e){a.setText(Math.floor(100*e)+"%")}),this.load.spritesheet("loading_cat",g.a,{frameWidth:150,frameHeight:150}).on("filecomplete-spritesheet-loading_cat",function(){var t={key:"loading",frames:"loading_cat",duration:2600,repeat:-1};e.anims.create(t),e.add.sprite(i/2,n/5*2,"loading_cat").play("loading")}),this.load.image("game_bg",y.a),this.load.image("card",m.a),this.load.image("enemy_small",x.a),this.load.image("enemy_middle",k.a),this.load.image("cat",T.a),this.load.image("enemy_boss",_.a),this.load.image("enemy_bullet",j.a),this.load.image("boss_bullet",B.a),this.load.image("nyan",G.a),this.load.spritesheet("plane_boom_1",P.a,{frameWidth:272,frameHeight:236}),this.load.spritesheet("plane_boom_2",W.a,{frameWidth:312,frameHeight:281}),this.load.audio("bgm",K.a),this.load.audio("enemy_boom",U.a),this.load.audio("boss_boom",L.a),this.load.audio("player_boom",V.a),this.load.audio("fire",X.a),this.load.audio("game_over",J.a),this.load.audio("game_win",Y.a)}},{key:"create",value:function(){this.gameStart()}},{key:"gameStart",value:function(){this.scene.start("round1")}}]),t}(r["Scene"]),Q=(i("d3b7"),i("ddb0"),"game_bg"),Z=6,ee=5,te={extra:{hp:1,bullet:"nyan",bulletSpeed:450,bulletGapTime:500,isPlayer:!0},height:50,width:50,pic:"cat"},ie={smallEnemy:{extra:{hp:1,score:407,isSmall:!0,fireMaxTimes:1,bullet:"enemy_bullet",bulletSpeed:900},generateGapTime:3e3,speed:700,appearRate:.7,groupNum:3,type:"smallEnemy",pic:"enemy_small",height:90,width:90},middleEnemy:{extra:{hp:4,score:1007,isMiddle:!0,bulletGapTime:300,fireMaxTimes:4,bullet:"enemy_bullet",bulletSpeed:300},generateGapTime:8e3,speed:150,height:120,width:120,pic:"enemy_middle",type:"middleEnemy"},bossEnemy:{extra:{showTime:6e4,hp:40,score:30007,isBoss:!0,bullet:"boss_bullet",bulletGapTime:800,fireMaxTimes:6,bulletSpeed:500,flameoutTime:3e3,bullet1:"enemy_bullet",bulletGapTime1:1e3,fireMaxTimes1:3,bulletSpeed1:300,flameoutTime1:8e3,angle:Math.PI/4,angleGap:Math.PI/28},speed:80,height:280,width:250,pic:"enemy_boss",type:"bossEnemy"}},ne=i("9aa6"),ae=te.pic,se=te.extra,re=te.width,oe=te.height,le=function(e){function t(e,i,n){var a;for(var s in Object(l["a"])(this,t),a=Object(u["a"])(this,Object(h["a"])(t).call(this,e,i,n,ae)),e.add.existing(Object(ne["a"])(a)),e.physics.add.existing(Object(ne["a"])(a)),a.setCollideWorldBounds(!0).setDepth(1).setSize(re,oe).setOffset(re,0),se)a[s]=se[s];return a}return Object(c["a"])(t,e),t}(o.a.Physics.Arcade.Sprite);function de(e){var t=e.scene.sys.canvas,i=t.width,n=t.height;return e.x+e.displayWidth/2<0||e.x>i+e.displayWidth/2||e.y+e.displayHeight/2<0||e.y>n+e.displayHeight/2}var ue=function(e){function t(e,i,n,a){var s;return Object(l["a"])(this,t),s=Object(u["a"])(this,Object(h["a"])(t).call(this,e,i,n,a)),e.add.existing(Object(ne["a"])(s)),e.physics.add.existing(Object(ne["a"])(s)),s.setDepth(1),s}return Object(c["a"])(t,e),Object(d["a"])(t,[{key:"setType",value:function(e){var t=ie[e];for(var i in t.extra)this[i]=t.extra[i];return this}},{key:"update",value:function(){de(this)&&this.destroy()}}]),t}(o.a.Physics.Arcade.Sprite),he=function(e){function t(e,i,n,a){return Object(l["a"])(this,t),Object(u["a"])(this,Object(h["a"])(t).call(this,e,i,n,a))}return Object(c["a"])(t,e),Object(d["a"])(t,[{key:"fire",value:function(e,t){var i,n;this.setPosition(e.x,e.y-10),this.setDepth(0);var a=1e4;if(t){var s=Math.atan2(this.y-t.y,this.x-t.x);i=Math.floor(a*this.bulletSpeed*-Math.cos(s))/a,n=Math.floor(a*this.bulletSpeed*-Math.sin(s))/a}else i=this.bulletSpeed,n=0;return this.setVelocity(i,n),this.rotation=e.rotation,this.timer=0,this}},{key:"setSpeed",value:function(e){return this.bulletSpeed=e,this}},{key:"setAngle",value:function(e){var t=1e4;return this.setVelocity(-Math.floor(t*this.bulletSpeed*Math.cos(e))/t,Math.floor(t*this.bulletSpeed*Math.sin(e))/t),this}},{key:"update",value:function(){de(this)&&this.destroy()}}]),t}(o.a.Physics.Arcade.Sprite),ce=function e(t){Object(l["a"])(this,e),t.anims.create({key:"boom1",frames:"plane_boom_1",duration:200,hideOncomplete:!0}),t.anims.create({key:"boom2",frames:"plane_boom_2",duration:600,hideOncomplete:!0})},pe=function e(t){Object(l["a"])(this,e);var i=t.input.keyboard.addKey(r["Input"].Keyboard.KeyCodes.W),n=t.input.keyboard.addKey(r["Input"].Keyboard.KeyCodes.A),a=t.input.keyboard.addKey(r["Input"].Keyboard.KeyCodes.S),s=t.input.keyboard.addKey(r["Input"].Keyboard.KeyCodes.D),o=t.input.keyboard.addKey(r["Input"].Keyboard.KeyCodes.SPACE);return{keyW:i,keyA:n,keyS:a,keyD:s,keySpace:o}};i("b680");function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[0]?e[Math.floor(Math.random()*e.length)]:0}function fe(e,t){var i=e/90*Math.PI/2,n=t/90*Math.PI/2;return me([i,n])}var ye=30,be=ie.smallEnemy,ge=ie.middleEnemy,ve=ie.bossEnemy,Te=function(){function e(t){Object(l["a"])(this,e),this.scene=t;var i=t.sys.canvas,n=i.width,a=i.height;this.width=n,this.height=a,this.enemies=t.enemies,this.enemyBullets=t.enemyBullets,this.player=t.player,this.isBossShow=!1,this.smallEnemyLastGenerateTime=0,this.middleEnemyLastGenerateTime=0}return Object(d["a"])(e,[{key:"generate",value:function(e){this.isBossShow||(e-this.scene.initialTime>ve.extra.showTime&&(this.isBossShow=!0,this.getBossEnemy()),e-this.smallEnemyLastGenerateTime>be.generateGapTime+me([-1500,-800,800,1500])&&(this.smallEnemyLastGenerateTime=e,Math.random()>ge.appearRate&&this.getGroupSmallEnemy(),this.getSmallEnemy()),e-this.middleEnemyLastGenerateTime>ge.generateGapTime+me([-1500,-800,800,1500])&&(this.middleEnemyLastGenerateTime=e,this.getMiddleEnemy()))}},{key:"getGroupSmallEnemy",value:function(){for(var e=Math.random()>.5?ye:this.height/2,t=0;t<be.groupNum-1;t++){var i=e+t*(be.height+10);this.enemies.get(this.width-ye,i,be.pic).setType(be.type).setActive(!0).setVisible(!0).setVelocityX(-be.speed)}}},{key:"getSmallEnemy",value:function(){this.enemies.get(this.width-ye,o.a.Math.Between(ye,this.height-ye),be.pic).setType(be.type).setActive(!0).setVisible(!0).setVelocityX(-be.speed)}},{key:"getMiddleEnemy",value:function(){var e=fe(30,-30);this.enemies.get(this.width-ye,o.a.Math.Between(this.height/2+ye,this.height/2-ye),ge.pic).setType(ge.type).setActive(!0).setVisible(!0).setVelocity(-ge.speed*+Math.cos(e).toFixed(2),ge.speed*+Math.sin(e).toFixed(2))}},{key:"getBossEnemy",value:function(){this.enemies.get(this.width-ve.width/2,this.height/2,ve.pic).setType(ve.type).setActive(!0).setVisible(!0).setVelocityY(-ve.speed).setCollideWorldBounds(!0).setBounce(!0)}}]),e}(),we=(i("4de4"),i("7db0"),i("4160"),i("159b"),function(){function e(t){Object(l["a"])(this,e),this.enemyBullets=t.enemyBullets,this.enemies=t.enemies,this.player=t.player}return Object(d["a"])(e,[{key:"fire",value:function(e){var t=this.enemies.getChildren(),i=t.filter(function(e){return e.isSmall}),n=t.filter(function(e){return e.isMiddle}),a=t.find(function(e){return e.isBoss});n.length&&this.fixedFire(n,e),i.length&&this.singleFire(i,e),a&&this.continuousFire(a,e),a&&this.scatteringFire(a,e)}},{key:"scatteringFire",value:function(e,t){if(e.lastFiredTime1||(e.lastFiredTime1=t),e.noFire1&&t-e.lastFiredTime1>e.flameoutTime1&&(e.fireNum1=0,e.noFire1=!1),!e.noFire1&&t-e.lastFiredTime1>e.bulletGapTime1){e.lastFiredTime1=t,e.fireNum1=(e.fireNum1||0)+1,e.fireNum1>=e.fireMaxTimes1&&(e.noFire1=!0);for(var i=-e.angle;i<=e.angle;i+=e.angleGap)this.getBullet(e,e.bullet1).fire(e,null).setAngle(i).setSpeed(e.bulletSpeed1)}}},{key:"fixedFire",value:function(e,t){var i=this;e.forEach(function(e){e.noFire||(e.lastFiredTime||(e.lastFiredTime=t),t-e.lastFiredTime>e.bulletGapTime&&(e.lastFiredTime=t,e.fireNum=(e.fireNum||0)+1,e.fireNum>=e.fireMaxTimes&&(e.noFire=!0),i.getBullet(e).fire(e,i.player)))})}},{key:"continuousFire",value:function(e,t){e.lastFiredTime||(e.lastFiredTime=t),e.noFire&&t-e.lastFiredTime>e.flameoutTime&&(e.fireNum=0,e.noFire=!1),e.noFire||t-e.lastFiredTime>e.bulletGapTime&&(e.lastFiredTime=t,e.fireNum=(e.fireNum||0)+1,e.fireNum>=e.fireMaxTimes&&(e.noFire=!0),this.getBullet(e).fire(e,this.player))}},{key:"singleFire",value:function(e){var t=this;e.forEach(function(e){e.noFire||(e.fireNum=(e.fireNum||0)+1,e.fireNum>=e.fireMaxTimes&&(e.noFire=!0),t.getBullet(e).fire(e,t.player))})}},{key:"getBullet",value:function(e,t){return this.enemyBullets.get(0,0,t||e.bullet).setActive(!0).setVisible(!0).setCircle(8,0,0).setSpeed(e.bulletSpeed)}}]),e}());function xe(e,t){var i=t.keyW,n=t.keyA,a=t.keyS,s=t.keyD,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee;if(e){var o=0,l=0;i.isDown&&(l-=r),n.isDown&&(o-=r),a.isDown&&(l+=r),s.isDown&&(o+=r),e.setPosition(e.x+o,e.y+l)}}var Oe=i("e587"),ke={score:0,destroiedEnemies:[],totalTime:0,isWin:!1},Se=ke;function _e(){ke.score=0,ke.destroiedEnemies.length=0,ke.totalTime=0,ke.isWin=!1,ke.session=ke.session||void 0}function Fe(){var e=0;Se.destroiedEnemies.forEach(function(t){e+=t.score});var t=Se.isWin?12e4-Se.totalTime:0;return e+=t,e}function je(e,t){var i=Object(Oe["a"])(e,2),n=i[0],a=i[1];!0===n.active&&!0===a.active&&[n,a].forEach(function(e){void 0!==e.hp?(e.hp-=1,0===e.hp&&(e.isPlayer?(t.bgm.stop(),t.sound.play("player_boom"),t.player=null,Se.totalTime=t.time.now-t.initialTime,e.disableBody().play("boom2").on("animationcomplete",function(){e.destroy();var i=t.sound.add("game_over");i.on("complete",function(){Me(t)}),i.play()})):e.isBoss?(t.bgm.stop(),t.sound.play("boss_boom"),Se.totalTime=t.time.now-t.initialTime,Se.isWin=!0,e.disableBody().play("boom2").on("animationcomplete",function(){Se.destroiedEnemies.push(e),e.destroy();var i=t.sound.add("game_win");i.on("complete",function(){Me(t)}),i.play()})):e.isMiddle?(t.sound.play("enemy_boom"),e.disableBody().play("boom2").on("animationcomplete",function(){Se.destroiedEnemies.push(e),e.destroy()})):(t.sound.play("enemy_boom"),e.disableBody().play("boom1").on("animationcomplete",function(){Se.destroiedEnemies.push(e),e.destroy()})))):e.destroy()})}function Me(e){Se.score=Fe();var t=e.sys.canvas,i=t.width,n=t.height,a=e.add.container(i/2,n/5*2,[e.add.image(0,0,"card").setInteractive().on("pointerdown",function(){_e(),e.game.destroy(!0),Ee()}),e.add.text(0,-30,"your final score: ".concat(Se.score.toFixed())).setOrigin(.5),e.add.text(0,10,"try it again!").setOrigin(.5)]).setDepth(9);Se.isWin&&a.add(e.add.text(0,-60,"Congratulations!").setOrigin(.5).setFontSize(32))}var Be=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(h["a"])(t).call(this,{key:"round1"})),e.bg=null,e.player=null,e.enemies=0,e.playerBullets=0,e.initialTime=null,e}return Object(c["a"])(t,e),Object(d["a"])(t,[{key:"create",value:function(){var e=this,t=this.sys.canvas,i=t.width,n=t.height;new ce(this),this.keys=new pe(this),this.bgm=this.sound.add("bgm"),this.bgm.play(),this.bg=this.add.tileSprite(i/2,n/2,i,n,Q).setTileScale(1.3),this.player=new le(this,120,n/2),this.enemies=this.physics.add.group({classType:ue,runChildUpdate:!0}),this.playerBullets=this.physics.add.group({classType:he,runChildUpdate:!0}),this.playerBullets.lastFiredTime=0,this.enemyBullets=this.physics.add.group({classType:he,runChildUpdate:!0}),this.enemyFactory=new Te(this),this.enemyCommander=new we(this),this.physics.add.overlap(this.enemies.getChildren(),this.playerBullets.getChildren(),function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return je(i,e)}),this.physics.add.overlap(this.enemies.getChildren(),this.player,function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return je(i,e)}),this.physics.add.overlap(this.enemyBullets.getChildren(),this.player,function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return je(i,e)})}},{key:"update",value:function(e){this.initialTime||(this.initialTime=this.time.now),this.gameBgMove(),xe(this.player,this.keys),this.ListenPlayerFire(e),this.enemyFactory.generate(e),this.enemyCommander.fire(e)}},{key:"ListenPlayerFire",value:function(e){if(this.player){var t=this.keys.keySpace;if(t.isDown&&!(e-this.playerBullets.lastFiredTime<this.player.bulletGapTime)){this.playerBullets.lastFiredTime=e;var i=this.playerBullets.get(0,0,this.player.bullet).setActive(!0).setVisible(!0).setSpeed(this.player.bulletSpeed);i&&(this.sound.play("fire"),i.fire(this.player,null))}}}},{key:"gameBgMove",value:function(){this.bg.tilePositionX+=Z}}]),t}(r["Scene"]);function Ee(){new o.a.Game({title:"rainow cat",url:"",version:"1.0.0",type:o.a.AUTO,width:window.innerWidth>1440?1440:window.innerWidth,height:window.innerHeight>800?800:window.innerHeight,parent:"app",autoCenter:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:[q,Be]})}var Ge={mounted:function(){Ee()}},Ce=Ge,Pe=(i("5c0b"),i("2877")),Ae=Object(Pe["a"])(Ce,a,s,!1,null,null,null),We=Ae.exports;n["a"].prototype.$store=Se,n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(We)}}).$mount("#app")},"57fd":function(e,t,i){e.exports=i.p+"media/enemy_boom.a520a8f5.mp3"},"5c0b":function(e,t,i){"use strict";var n=i("458f"),a=i.n(n);a.a},"61c3":function(e,t,i){e.exports=i.p+"cbd94bc96d54bf934139edbb247f17ad.png"},"8d9d":function(e,t,i){e.exports=i.p+"e5fb4e33062de1140aefe95de88415aa.png"},9107:function(e,t,i){e.exports=i.p+"6f34edaee73e658031b25cf832018018.png"},"94f9":function(e,t,i){e.exports=i.p+"81ecb6a04eb90de087eaeea2a0a2036e.png"},b644:function(e,t,i){e.exports=i.p+"f95632b018dbf587de77989754f21783.png"},c29b:function(e,t,i){e.exports=i.p+"media/game_win.5e721eeb.mp3"},c2b6:function(e,t,i){e.exports=i.p+"6f4ccfd1ab2b58702cc5050c0df377bb.png"},d334:function(e,t,i){e.exports=i.p+"4572e4e4fa5838ac88edba4b4cfb076f.png"},f56d:function(e,t,i){e.exports=i.p+"14e452784456b0d19228e3132ca5544d.png"},f7b8:function(e,t,i){e.exports=i.p+"media/player_boom.e5058fc7.mp3"}});